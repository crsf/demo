<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<link rel="shortcut icon" type="image/x-icon" href="https://oxford-canada.org/img/Logo.png">
<head>
    <!-- META tags-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test video - Oxford-Canada Scholarship</title>
    <meta name="description" content="Apply for the Oxford to Canada (Oxford-Canada) Scholarship">
    <!-- schema.org tags-->
    <script type="application/ld+json">
    </script>
    <!-- stylesheets -->
    <link rel="stylesheet" href="css/layout.css">
	<link rel="stylesheet" href="css/video-js.css">
    <!-- <script src="https://code.jquery.com/jquery-1.10.2.js"></script> -->
    <!-- Analytics tracking -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-105785577-1', 'auto');
      ga('send', 'pageview');
    </script>
</head>

<body>
  <a href="#maincontent" class="visually-hidden visible-when-focused bypass-block-link">Skip to main content</a>
    <!--nav bar-->
    <div id="megamenu">
      <div class="main-nav">
        <!--<img title="logo" src="demo/img/logo.png"> <!-- upload the image!!! -->
      
        <div class="logo">
                  <a href="index.html" title="Oxford-Canada Scholarship homepage" id="logo" class="content">
                  <img src="http://oxford-canada.org/img/Logo.png" width="80" height="80" alt="Oxford-Canada Scholarship logo"> <span>Oxford-Canada Scholarship</span>
                  </a>
      
            </div>
        <ul class="menu-items">
          <li><a href="http://oxford-canada.org/apply.html">Apply</a></li>
          <li><a href="http://oxford-canada.org/donate.html">Donate</a></li>
          <li><a href="http://oxford-canada.org/scholars.html">Scholars</a></li>
          <li><a href="http://oxford-canada.org/about.html">About</a></li>
          <li><a href="http://oxford-canada.org/contact.html">Contact us</a></li>
        </ul>
      </div>
    </div>
    

    <main class="body-content" id="main-content">
	<div class="page-contents" id="page-content">

    <h1 id="maincontent" tabindex="-1">Test video</h1>
   	<video
	    id="test-video"
	    class="video-js"
	    controls preload="auto"
	    width="640"
	    height="264"
	    poster=""
	    data-setup="{}"
	  >
	    <source src="https://crsf.github.io/demo/vid/Video_ruth_arnold.MP4" type="video/mov" />
	    <p class="vjs-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that<a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p>
	  </video>
	</div>


  <div class="footer" id="footer">
    <div class="footer-container">
    <div class="footer-logo">
      <a href="http://oxford-canada.org/index.html" title="Oxford-Canada Scholarship homepage" class="content" style="float:left;">
      <img src="http://oxford-canada.org/img/Logo.png" width="80" height="80" alt="Oxford-Canada Scholarship logo"> <span>Oxford-Canada Scholarship</span>
      </a>
    </div>
    <p style="float:left; margin-left: 10px;">2018 Â© Canadian Rhodes Scholars Foundation</p>
    <a id="privacy-policy-in-footer" href="http://oxford-canada.org/privacy-policy.html">Privacy policy</a>
    </div></div>
    </main>

    <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.4.1/jquery.min.js'></script>
    <script type='text/javascript' src='js/touchHover.js'></script>
	<script src="js/video.min.js"></script>
	<script type='text/javascript'>// 1. Initialize the player without a source
		var player = videojs('test-video');
		
		// 2. Fetch the video file manually
		console.log("Starting manual download...");
		
		fetch('https://media.githubusercontent.com/media/crsf/demo/master/vid/Video_ruth_arnold.MP4')
		  .then(response => {
		    if (!response.ok) throw new Error('Network response was not ok');
		    return response.blob(); // This waits for the full download
		  })
		  .then(blob => {
		    console.log("Download complete. Creating Blob URL.");
		    
		    // 3. Create a local URL for the downloaded data
		    const objectURL = URL.createObjectURL(blob);
		    
		    // 4. Load that URL into Video.js
		    player.src({
		      type: 'video/mp4',
		      src: objectURL
		    });
		    
		    player.load();
		  })
		  .catch(error => {
		    console.error('Fetch error:', error);
		  });
	</script>
	
</body>

</html>
